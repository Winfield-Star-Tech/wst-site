<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
 xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3" ng-app="wstSiteApp" ng-controller="SecurityCtrl as sec" >
<head>
<meta charset="ISO-8859-1" />
<title>WST Angular</title>
<link rel="icon" type="image/png" th:href="@{/resources/images/favicon-32x32.png}" href="/resources/images/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" th:href="@{/resources/images/favicon-16x16.png}" href="/resources/images/favicon-16x16.png" sizes="16x16" />

<link rel='stylesheet'
	href='webjars/bootstrap/3.2.0/css/bootstrap.min.css' />
<link rel='stylesheet' th:href="@{/resources/css/nav-wst.css}"
	href="/resources/css/nav-wst.css" />
  <script th:src="@{/resources/js/jquery.min.js}" src="/resources/js/jquery.min.js"></script>
<script th:src="@{/resources/js/bootstrap.min.js}" src="/resources/js/bootstrap.min.js"></script>
<script th:src="@{/resources/js/angular.js}"
	src="/resources/js/angular.js"></script>
<script th:src="@{/resources/js/angular-resource.js}"
	src="/resources/js/angular-resource.js"></script>
<script th:src="@{/resources/js/angular-route.js}"
	src="/resources/js/angular-route.js"></script>
<script th:src="@{/resources/js/app.js}"
	src="/resources/js/app.js"></script>

<script th:src="@{/resources/js/services.js}"
	src="/resources/js/services.js"></script>
<script th:src="@{/resources/js/filters.js}"
	src="/resources/js/filters.js"></script>

<script th:src="@{/resources/js/controllers.js}"
	src="/resources/js/controllers.js"></script>
	

<meta name="viewport" content="initial-scale=1, maximum-scale=1" />
</head>
<body ng-controller="UserListCtrl">
<div class="col-sm-10">
<nav class="navbar navbar-default sidebar" role="navigation">
    <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-sidebar-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>      
    </div>
    <div class="collapse navbar-collapse" id="bs-sidebar-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li  class="active"><a href="#/">Home<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-home"></span></a></li>
        <li ><a href="#/about">About WST<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-info-sign"></span></a></li>
        <li sec:authorize="hasRole('ROLE_WST_USER')"><a href="#/newbro">Newbro Info<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-headphones"></span></a></li>
        <li>
          <a  sec:authorize="!hasRole('ROLE_WST_USER')"  href="/login/evesso" >Log In<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a>
          <a  sec:authorize="hasRole('ROLE_WST_USER')"  href="/logout" >Log Out<span style="font-size:16px;" class="pull-right hidden-xs showopacity glyphicon glyphicon-user"></span></a>
        </li>          
      </ul>
    </div>
  </div>
</nav>
	<div id="main">
		<div id="content">
			<section>
				<div id="content-text" class="container">
<div class="col-sm-10 col-offset-sm-1"  ng-view="">
</div>
				</div>
			</section>
		</div>
	</div>

</div>
<div class="col-sm-2  text-right" id="wst-title">Winfield Star-Tech <img th:src="@{/resources/images/wst-logo.png}"/></div>
<footer>
<div class="modal fade" id="myModal">
		<div class="modal-dialog">
			<div class="modal-content">

				<div class="modal-body">
          
          <div class="close-button">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          </div>
          <div class="embed-responsive embed-responsive-16by9">
					            <iframe class="embed-responsive-item" frameborder="0"></iframe>
          </div>
				</div>

			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<script type="text/javascript">
	( function($) {
		  
		function iframeModalOpen(){

				// impostiamo gli attributi da aggiungere all'iframe es: data-src andrà ad impostare l'url dell'iframe
				$('.modalButton').on('click', function(e) {
					var src = $(this).attr('data-src');
					var width = $(this).attr('data-width') || 640; // larghezza dell'iframe se non impostato usa 640
					var height = $(this).attr('data-height') || 360; // altezza dell'iframe se non impostato usa 360

					var allowfullscreen = $(this).attr('data-video-fullscreen'); // impostiamo sul bottone l'attributo allowfullscreen se è un video per permettere di passare alla modalità tutto schermo
					
					// stampiamo i nostri dati nell'iframe
					$("#myModal iframe").attr({
						'src': src,
						'height': height,
						'width': width,
						'allowfullscreen':''
					});
				});

				// se si chiude la modale resettiamo i dati dell'iframe per impedire ad un video di continuare a riprodursi anche quando la modale è chiusa
				$('#myModal').on('hidden.bs.modal', function(){
					$(this).find('iframe').html("");
					$(this).find('iframe').attr("src", "");
				});
			}
		  
		  $(document).ready(function(){
				iframeModalOpen();
		  });
		  
		  } ) ( jQuery );
	</script>
</footer>

</body>
</html>